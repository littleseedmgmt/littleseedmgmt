import { NextResponse } from 'next/server'
import { createClient } from '@supabase/supabase-js'

// Only allow in development/test mode
const isTestMode = process.env.NEXT_PUBLIC_ENV_MODE === 'test' || process.env.NODE_ENV === 'development'

export async function POST() {
  if (!isTestMode) {
    return NextResponse.json(
      { error: 'Reset is only available in test mode' },
      { status: 403 }
    )
  }

  // Use service role to bypass RLS for admin operations
  const supabaseAdmin = createClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.SUPABASE_SERVICE_ROLE_KEY!,
    { auth: { persistSession: false } }
  )

  try {
    // Step 1: Clear all transactional and master data
    // Order matters due to foreign key constraints
    const tablesToClear = [
      'audit_logs',
      'pto_requests',
      'shifts',
      'attendance',
      'students',
      'classrooms',
      'teachers',
      'school_settings',
      'schools'
    ]

    let schoolSettingsExists = true
    for (const table of tablesToClear) {
      const { error } = await supabaseAdmin.from(table).delete().neq('id', '00000000-0000-0000-0000-000000000000')
      if (error) {
        console.error(`Error clearing ${table}:`, error)
        // Track if school_settings table doesn't exist
        if (table === 'school_settings' && error.message?.includes('not find the table')) {
          schoolSettingsExists = false
        }
        // Continue anyway - some tables might be empty or not exist
      }
    }

    // Step 2: Insert schools
    const { error: schoolsError } = await supabaseAdmin.from('schools').insert([
      { id: '11111111-1111-1111-1111-111111111111', name: 'Peter Pan Mariner Square', address: '2100 Mariner Square Dr', city: 'Alameda', state: 'CA', zip_code: '94501', timezone: 'America/Los_Angeles' },
      { id: '22222222-2222-2222-2222-222222222222', name: 'Little Seeds Children\'s Center', address: '2055 Santa Clara Ave', city: 'Alameda', state: 'CA', zip_code: '94501', timezone: 'America/Los_Angeles' },
      { id: '33333333-3333-3333-3333-333333333333', name: 'Peter Pan Harbor Bay', address: '3171 Mecartney Rd', city: 'Alameda', state: 'CA', zip_code: '94502', timezone: 'America/Los_Angeles' },
    ])
    if (schoolsError) throw new Error(`Schools insert failed: ${schoolsError.message}`)

    // Step 3: Insert classrooms (using valid hex UUIDs - 'a' prefix instead of 'c')
    const { error: classroomsError } = await supabaseAdmin.from('classrooms').insert([
      // Peter Pan Mariner Square
      { id: 'a1111111-0001-0001-0001-000000000001', school_id: '11111111-1111-1111-1111-111111111111', name: 'Caterpillars (Upstairs Infant)', age_group: 'infant', capacity: 12, current_enrollment: 7 },
      { id: 'a1111111-0001-0001-0001-000000000002', school_id: '11111111-1111-1111-1111-111111111111', name: 'Tadpoles (Downstairs Infant)', age_group: 'infant', capacity: 16, current_enrollment: 13 },
      { id: 'a1111111-0001-0001-0001-000000000003', school_id: '11111111-1111-1111-1111-111111111111', name: 'Tigers (2 yr)', age_group: 'twos', capacity: 24, current_enrollment: 19 },
      { id: 'a1111111-0001-0001-0001-000000000004', school_id: '11111111-1111-1111-1111-111111111111', name: 'Ponies (3yr)', age_group: 'threes', capacity: 24, current_enrollment: 16 },
      { id: 'a1111111-0001-0001-0001-000000000005', school_id: '11111111-1111-1111-1111-111111111111', name: 'Soda Pop (4-5 yr)', age_group: 'pre_k', capacity: 30, current_enrollment: 26 },
      // Little Seeds Children's Center
      { id: 'a2222222-0001-0001-0001-000000000001', school_id: '22222222-2222-2222-2222-222222222222', name: 'Squirrels (1-2 yr)', age_group: 'infant', capacity: 12, current_enrollment: 8 },
      { id: 'a2222222-0001-0001-0001-000000000002', school_id: '22222222-2222-2222-2222-222222222222', name: 'Bunnies (2yr)', age_group: 'toddler', capacity: 16, current_enrollment: 13 },
      { id: 'a2222222-0001-0001-0001-000000000003', school_id: '22222222-2222-2222-2222-222222222222', name: 'Chipmunks (3yr)', age_group: 'threes', capacity: 16, current_enrollment: 10 },
      { id: 'a2222222-0001-0001-0001-000000000004', school_id: '22222222-2222-2222-2222-222222222222', name: 'Bears (4-5 yr)', age_group: 'pre_k', capacity: 16, current_enrollment: 10 },
      // Peter Pan Harbor Bay
      { id: 'a3333333-0001-0001-0001-000000000001', school_id: '33333333-3333-3333-3333-333333333333', name: 'Ladybugs (6 month-24 months)', age_group: 'infant', capacity: 16, current_enrollment: 11 },
      { id: 'a3333333-0001-0001-0001-000000000002', school_id: '33333333-3333-3333-3333-333333333333', name: 'Grasshopper (2 yr)', age_group: 'twos', capacity: 20, current_enrollment: 16 },
      { id: 'a3333333-0001-0001-0001-000000000003', school_id: '33333333-3333-3333-3333-333333333333', name: 'Butterflies (3 yr)', age_group: 'threes', capacity: 16, current_enrollment: 12 },
      { id: 'a3333333-0001-0001-0001-000000000004', school_id: '33333333-3333-3333-3333-333333333333', name: 'Dragonflies (4-5 yr)', age_group: 'pre_k', capacity: 16, current_enrollment: 10 },
    ])
    if (classroomsError) throw new Error(`Classrooms insert failed: ${classroomsError.message}`)

    // Step 4: Insert teachers (using valid hex UUIDs - 'b' prefix instead of 't')
    const teachers = [
      // Peter Pan Mariner Square (17)
      { id: 'b1111111-0001-0001-0001-000000000001', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Julie', last_name: 'DeMauri', email: 'julie.demauri@peterpan.edu', role: 'director', classroom_title: 'Whole School', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: '14:30', lunch_break_end: '15:30', qualifications: 'Infant & Preschool Director Qualified', degrees: 'AA', years_experience: 40, hire_date: '1985-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000002', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Shannon', last_name: 'Atthowe', email: 'shannon.atthowe@peterpan.edu', role: 'assistant_director', classroom_title: 'Whole School', regular_shift_start: '07:30', regular_shift_end: '17:00', lunch_break_start: '12:00', lunch_break_end: '13:30', qualifications: 'Infant & Preschool Director Qualified', degrees: 'BA', years_experience: 6, hire_date: '2019-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000003', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Pat', last_name: 'Adkins', email: 'pat.adkins@peterpan.edu', role: 'lead_teacher', classroom_title: 'Upstairs Infant', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: '13:30', lunch_break_end: '14:30', qualifications: 'Infant & Preschool Teacher Qualified', degrees: null, years_experience: 35, hire_date: '1990-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000004', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Isabel', last_name: 'Kasaab', email: 'isabel.kasaab@peterpan.edu', role: 'assistant', classroom_title: 'Upstairs Infant', regular_shift_start: '08:30', regular_shift_end: '12:30', lunch_break_start: null, lunch_break_end: null, qualifications: 'No Units/Aide', degrees: null, years_experience: 3, hire_date: '2022-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000005', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Macekshia', last_name: 'Stevenson', email: 'macekshia.stevenson@peterpan.edu', role: 'assistant', classroom_title: 'Upstairs Infant', regular_shift_start: '13:30', regular_shift_end: '17:30', lunch_break_start: null, lunch_break_end: null, qualifications: 'No Units/Aide', degrees: null, years_experience: 2, hire_date: '2023-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000006', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Shelly', last_name: 'Ortiz', email: 'shelly.ortiz@peterpan.edu', role: 'assistant', classroom_title: 'Downstairs Infant', regular_shift_start: '07:30', regular_shift_end: '17:00', lunch_break_start: '12:00', lunch_break_end: '13:30', qualifications: 'Partially Qualified Preschool (9 Units)', degrees: null, years_experience: 20, hire_date: '2005-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000007', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Sally', last_name: 'Du', email: 'sally.du@peterpan.edu', role: 'teacher', classroom_title: 'Downstairs Infant', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: '12:00', lunch_break_end: '13:00', qualifications: 'Infant & Preschool Teacher Qualified', degrees: null, years_experience: 10, hire_date: '2015-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000008', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Sherry', last_name: 'Chan', email: 'sherry.chan@peterpan.edu', role: 'teacher', classroom_title: 'Downstairs Infant', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: '12:00', lunch_break_end: '13:00', qualifications: 'Infant & Preschool Teacher Qualified', degrees: null, years_experience: 10, hire_date: '2015-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000009', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Maricon', last_name: 'Alcontin', email: 'maricon.alcontin@peterpan.edu', role: 'assistant', classroom_title: 'Tigers 2s', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: '13:00', lunch_break_end: '14:00', qualifications: 'Partially Qualified Preschool (9 Units)', degrees: null, years_experience: 10, hire_date: '2015-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000010', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Corazon', last_name: 'Velasquez', email: 'corazon.velasquez@peterpan.edu', role: 'teacher', classroom_title: 'Tigers 2s', regular_shift_start: '08:00', regular_shift_end: '17:00', lunch_break_start: '12:00', lunch_break_end: '13:00', qualifications: 'Qualified Preschool Teacher', degrees: null, years_experience: 20, hire_date: '2005-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000011', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Muoi', last_name: 'Tran', email: 'muoi.tran@peterpan.edu', role: 'assistant', classroom_title: 'Tigers 2s', regular_shift_start: '08:00', regular_shift_end: '17:00', lunch_break_start: '12:30', lunch_break_end: '13:30', qualifications: 'No Units/Aide', degrees: null, years_experience: 15, hire_date: '2010-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000012', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Angel', last_name: 'Lewis', email: 'angel.lewis@peterpan.edu', role: 'lead_teacher', classroom_title: 'Ponies 3s', regular_shift_start: '08:15', regular_shift_end: '17:15', lunch_break_start: '13:00', lunch_break_end: '14:00', qualifications: 'Qualified Preschool Teacher', degrees: null, years_experience: 20, hire_date: '2005-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000013', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Shriley', last_name: 'Liu', email: 'shriley.liu@peterpan.edu', role: 'teacher', classroom_title: 'Ponies 3s', regular_shift_start: '07:30', regular_shift_end: '17:00', lunch_break_start: '12:00', lunch_break_end: '13:00', qualifications: 'Infant & Preschool Teacher Qualified', degrees: null, years_experience: 20, hire_date: '2005-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000014', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Christina', last_name: 'Sagun', email: 'christina.sagun@peterpan.edu', role: 'lead_teacher', classroom_title: 'Pre-K 4-5', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: '13:30', lunch_break_end: '14:30', qualifications: 'Infant & Preschool Director Qualified', degrees: 'BA', years_experience: 10, hire_date: '2015-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000015', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Kevin', last_name: 'Dupre', email: 'kevin.dupre@peterpan.edu', role: 'teacher', classroom_title: 'Pre-K 4-5', regular_shift_start: '08:00', regular_shift_end: '17:00', lunch_break_start: '12:30', lunch_break_end: '13:30', qualifications: 'Qualified Preschool Teacher', degrees: null, years_experience: 30, hire_date: '1995-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000016', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Jules', last_name: 'Leung', email: 'jules.leung@peterpan.edu', role: 'teacher', classroom_title: 'Pre-K 4-5', regular_shift_start: '08:15', regular_shift_end: '17:15', lunch_break_start: '13:30', lunch_break_end: '14:30', qualifications: 'Infant & Preschool Teacher Qualified', degrees: 'BA', years_experience: 3, hire_date: '2022-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b1111111-0001-0001-0001-000000000017', school_id: '11111111-1111-1111-1111-111111111111', first_name: 'Aura', last_name: 'Batres', email: 'aura.batres@peterpan.edu', role: 'floater', classroom_title: 'anywhere', regular_shift_start: '10:30', regular_shift_end: '17:30', lunch_break_start: '13:30', lunch_break_end: '14:30', qualifications: 'Infant & Preschool Teacher Qualified', degrees: null, years_experience: 20, hire_date: '2005-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      // Little Seeds Children's Center (8)
      { id: 'b2222222-0001-0001-0001-000000000001', school_id: '22222222-2222-2222-2222-222222222222', first_name: 'Sarah', last_name: 'Hallford', email: 'sarah.hallford@littleseeds.edu', role: 'director', classroom_title: 'anywhere', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: null, lunch_break_end: null, qualifications: 'Infant & Preschool Director Qualified', degrees: 'AA', years_experience: 20, hire_date: '2005-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b2222222-0001-0001-0001-000000000002', school_id: '22222222-2222-2222-2222-222222222222', first_name: 'Judi', last_name: 'Thach', email: 'judi.thach@littleseeds.edu', role: 'lead_teacher', classroom_title: 'Squirrels', regular_shift_start: '08:00', regular_shift_end: '17:00', lunch_break_start: '12:00', lunch_break_end: '13:00', qualifications: 'Infant & Preschool Teacher Qualified', degrees: null, years_experience: 15, hire_date: '2010-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b2222222-0001-0001-0001-000000000003', school_id: '22222222-2222-2222-2222-222222222222', first_name: 'Tam', last_name: 'Tran', email: 'tam.tran@littleseeds.edu', role: 'assistant', classroom_title: 'Squirrels', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: '13:00', lunch_break_end: '14:00', qualifications: 'Partially Qualified Preschool (9 Units)', degrees: null, years_experience: 15, hire_date: '2010-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b2222222-0001-0001-0001-000000000004', school_id: '22222222-2222-2222-2222-222222222222', first_name: 'Kristy', last_name: 'Meli', email: 'kristy.meli@littleseeds.edu', role: 'teacher', classroom_title: 'Bunnies 2s', regular_shift_start: '07:30', regular_shift_end: '17:00', lunch_break_start: '13:00', lunch_break_end: '14:30', qualifications: 'Infant & Preschool Teacher Qualified', degrees: null, years_experience: 20, hire_date: '2005-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b2222222-0001-0001-0001-000000000005', school_id: '22222222-2222-2222-2222-222222222222', first_name: 'Quyen', last_name: 'Duong', email: 'quyen.duong@littleseeds.edu', role: 'assistant', classroom_title: 'Bunnies 2s', regular_shift_start: '08:15', regular_shift_end: '17:15', lunch_break_start: '12:00', lunch_break_end: '13:00', qualifications: 'Partially Qualified Preschool (9 Units)', degrees: null, years_experience: 20, hire_date: '2005-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b2222222-0001-0001-0001-000000000006', school_id: '22222222-2222-2222-2222-222222222222', first_name: 'Sonia', last_name: 'Hernandez', email: 'sonia.hernandez@littleseeds.edu', role: 'teacher', classroom_title: 'Chipmunks 3s', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: '12:00', lunch_break_end: '13:00', qualifications: 'Preschool Director Qualified', degrees: null, years_experience: 20, hire_date: '2005-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b2222222-0001-0001-0001-000000000007', school_id: '22222222-2222-2222-2222-222222222222', first_name: 'Mona', last_name: 'Watson', email: 'mona.watson@littleseeds.edu', role: 'teacher', classroom_title: 'Bears 4-5', regular_shift_start: '07:30', regular_shift_end: '17:00', lunch_break_start: '13:00', lunch_break_end: '14:30', qualifications: 'Infant & Preschool Director Qualified', degrees: null, years_experience: 30, hire_date: '1995-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b2222222-0001-0001-0001-000000000008', school_id: '22222222-2222-2222-2222-222222222222', first_name: 'Tiffany', last_name: 'Louie', email: 'tiffany.louie@littleseeds.edu', role: 'floater', classroom_title: 'anywhere', regular_shift_start: '08:15', regular_shift_end: '17:15', lunch_break_start: '13:00', lunch_break_end: '14:00', qualifications: 'Qualified Preschool Teacher', degrees: null, years_experience: 10, hire_date: '2015-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      // Peter Pan Harbor Bay (8)
      { id: 'b3333333-0001-0001-0001-000000000001', school_id: '33333333-3333-3333-3333-333333333333', first_name: 'Theresa', last_name: 'Clement', email: 'theresa.clement@peterpan.edu', role: 'director', classroom_title: 'Whole School', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: null, lunch_break_end: null, qualifications: 'Infant & Preschool Director Qualified', degrees: 'AA', years_experience: 40, hire_date: '1985-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b3333333-0001-0001-0001-000000000002', school_id: '33333333-3333-3333-3333-333333333333', first_name: 'Kirsten', last_name: 'Cesar', email: 'kirsten.cesar@peterpan.edu', role: 'teacher', classroom_title: 'Ladybugs', regular_shift_start: '07:30', regular_shift_end: '16:30', lunch_break_start: '13:00', lunch_break_end: '14:00', qualifications: 'Infant & Preschool Teacher Qualified', degrees: null, years_experience: 10, hire_date: '2015-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b3333333-0001-0001-0001-000000000003', school_id: '33333333-3333-3333-3333-333333333333', first_name: 'Thao', last_name: 'Ho', email: 'thao.ho@peterpan.edu', role: 'teacher', classroom_title: 'Ladybugs', regular_shift_start: '07:30', regular_shift_end: '16:30', lunch_break_start: '12:00', lunch_break_end: '13:00', qualifications: 'Infant & Preschool Teacher Qualified', degrees: null, years_experience: 10, hire_date: '2015-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b3333333-0001-0001-0001-000000000004', school_id: '33333333-3333-3333-3333-333333333333', first_name: 'Melody', last_name: 'Chan', email: 'melody.chan@peterpan.edu', role: 'assistant', classroom_title: 'Ladybugs', regular_shift_start: '08:15', regular_shift_end: '17:15', lunch_break_start: '12:30', lunch_break_end: '13:30', qualifications: 'No Units/Aide', degrees: null, years_experience: 3, hire_date: '2022-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b3333333-0001-0001-0001-000000000005', school_id: '33333333-3333-3333-3333-333333333333', first_name: 'Anotnia', last_name: 'Ortiz', email: 'anotnia.ortiz@peterpan.edu', role: 'teacher', classroom_title: 'Grasshopper', regular_shift_start: '07:30', regular_shift_end: '16:30', lunch_break_start: '12:00', lunch_break_end: '13:00', qualifications: 'Infant & Preschool Teacher Qualified', degrees: null, years_experience: 25, hire_date: '2000-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b3333333-0001-0001-0001-000000000006', school_id: '33333333-3333-3333-3333-333333333333', first_name: 'Vynn', last_name: 'Alcontin', email: 'vynn.alcontin@peterpan.edu', role: 'teacher', classroom_title: 'Butterflies', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: '12:30', lunch_break_end: '13:30', qualifications: 'Qualified Preschool Teacher', degrees: null, years_experience: 15, hire_date: '2010-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b3333333-0001-0001-0001-000000000007', school_id: '33333333-3333-3333-3333-333333333333', first_name: 'Lois', last_name: 'Steenhard', email: 'lois.steenhard@peterpan.edu', role: 'teacher', classroom_title: 'Dragonflies', regular_shift_start: '08:15', regular_shift_end: '17:15', lunch_break_start: '12:00', lunch_break_end: '13:00', qualifications: 'Infant & Preschool Teacher Qualified', degrees: 'BA', years_experience: 40, hire_date: '1985-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
      { id: 'b3333333-0001-0001-0001-000000000008', school_id: '33333333-3333-3333-3333-333333333333', first_name: 'Jennie', last_name: 'Mendoza', email: 'jennie.mendoza@peterpan.edu', role: 'teacher', classroom_title: 'Dragonflies', regular_shift_start: '08:30', regular_shift_end: '17:30', lunch_break_start: '13:00', lunch_break_end: '14:00', qualifications: 'Infant & Preschool Director Qualified', degrees: null, years_experience: 40, hire_date: '1985-01-01', status: 'active', pto_balance_vacation: 80, pto_balance_sick: 40, pto_balance_personal: 16 },
    ]
    const { error: teachersError } = await supabaseAdmin.from('teachers').insert(teachers)
    if (teachersError) throw new Error(`Teachers insert failed: ${teachersError.message}`)

    // Step 5: Insert settings (skip if table doesn't exist)
    let settingsCount: number | null = null
    if (schoolSettingsExists) {
      const { error: settingsError } = await supabaseAdmin.from('school_settings').insert([
        { school_id: null, setting_key: 'ratio_normal', setting_value: { infant: 4, toddler: 4, twos: 12, threes: 12, preschool: 12, pre_k: 12 }, description: 'Normal teacher-to-student ratios during awake time' },
        { school_id: null, setting_key: 'ratio_naptime', setting_value: { infant: 12, toddler: 12, twos: 24, threes: 24, preschool: 24, pre_k: 24 }, description: 'Teacher-to-student ratios during nap time' },
        { school_id: null, setting_key: 'break_settings', setting_value: { break_duration_minutes: 10, breaks_per_shift: 2, break1_window: 'shift_start_to_lunch', break2_window: 'lunch_end_to_shift_end' }, description: 'Settings for teacher breaks' },
        { school_id: null, setting_key: 'default_nap_window', setting_value: { default_start: '12:00', default_end: '14:30', alternate_start: '12:30', alternate_end: '15:00' }, description: 'Default nap time windows' },
        { school_id: null, setting_key: 'school_hours', setting_value: { opens_at: '07:30', closes_at: '17:30' }, description: 'Default school operating hours' },
      ])
      if (settingsError) {
        console.error('Settings insert failed:', settingsError)
        schoolSettingsExists = false
      } else {
        const { count } = await supabaseAdmin.from('school_settings').select('*', { count: 'exact', head: true })
        settingsCount = count
      }
    }

    // Step 6: Insert students (171 total with real names)
    const students = [
      // Caterpillars (Upstairs Infant) - 7 students
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000001', first_name: 'Aman', last_name: 'Workneh', date_of_birth: '2025-07-25', guardian_name: 'Parent Workneh', guardian_phone: '510-555-0101', status: 'enrolled', enrollment_date: '2026-01-16' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000001', first_name: 'Carly', last_name: 'Holyoake', date_of_birth: '2025-05-25', guardian_name: 'Parent Holyoake', guardian_phone: '510-555-0102', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000001', first_name: 'Ezra', last_name: 'Buffaloe', date_of_birth: '2025-05-25', guardian_name: 'Parent Buffaloe', guardian_phone: '510-555-0103', status: 'enrolled', enrollment_date: '2025-10-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000001', first_name: 'Naomi', last_name: 'Clay', date_of_birth: '2025-05-25', guardian_name: 'Parent Clay', guardian_phone: '510-555-0104', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000001', first_name: 'Adrian', last_name: 'Chi-Nguyen', date_of_birth: '2025-02-25', guardian_name: 'Parent Chi-Nguyen', guardian_phone: '510-555-0105', status: 'enrolled', enrollment_date: '2025-06-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000001', first_name: 'Jasper', last_name: 'Shelby', date_of_birth: '2024-11-25', guardian_name: 'Parent Shelby', guardian_phone: '510-555-0106', status: 'enrolled', enrollment_date: '2025-06-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000001', first_name: 'Levi', last_name: 'Porada', date_of_birth: '2024-12-25', guardian_name: 'Parent Porada', guardian_phone: '510-555-0107', status: 'enrolled', enrollment_date: '2025-06-01' },
      // Tadpoles (Downstairs Infant) - 13 students
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Aidan', last_name: 'Walroth', date_of_birth: '2024-10-25', guardian_name: 'Parent Walroth', guardian_phone: '510-555-0108', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Aliya', last_name: 'Grier', date_of_birth: '2024-10-25', guardian_name: 'Parent Grier', guardian_phone: '510-555-0109', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Levi', last_name: 'Kress', date_of_birth: '2024-09-25', guardian_name: 'Parent Kress', guardian_phone: '510-555-0110', status: 'enrolled', enrollment_date: '2025-09-16' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Maddox', last_name: 'Kang', date_of_birth: '2024-08-25', guardian_name: 'Parent Kang', guardian_phone: '510-555-0111', status: 'enrolled', enrollment_date: '2025-09-16' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Quinn', last_name: 'Peterson', date_of_birth: '2024-09-25', guardian_name: 'Parent Peterson', guardian_phone: '510-555-0112', status: 'enrolled', enrollment_date: '2025-10-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Avery', last_name: 'Anderson', date_of_birth: '2024-07-25', guardian_name: 'Parent Anderson', guardian_phone: '510-555-0113', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Avery', last_name: 'Salas', date_of_birth: '2024-06-25', guardian_name: 'Parent Salas', guardian_phone: '510-555-0114', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Rowan', last_name: 'Trujillo', date_of_birth: '2024-05-25', guardian_name: 'Parent Trujillo', guardian_phone: '510-555-0115', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Judah', last_name: 'Wetterholm', date_of_birth: '2024-05-25', guardian_name: 'Parent Wetterholm', guardian_phone: '510-555-0116', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Benjamin', last_name: 'Perry', date_of_birth: '2024-04-25', guardian_name: 'Parent Perry', guardian_phone: '510-555-0117', status: 'enrolled', enrollment_date: '2025-04-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Aidan', last_name: 'Tsang', date_of_birth: '2024-02-25', guardian_name: 'Parent Tsang', guardian_phone: '510-555-0118', status: 'enrolled', enrollment_date: '2025-04-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Felix', last_name: 'Cziva', date_of_birth: '2024-04-25', guardian_name: 'Parent Cziva', guardian_phone: '510-555-0119', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000002', first_name: 'Hayes', last_name: 'Conroy', date_of_birth: '2024-08-25', guardian_name: 'Parent Conroy', guardian_phone: '510-555-0120', status: 'enrolled', enrollment_date: '2025-09-01' },
      // Tigers (2 yr) - 19 students
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Akeem', last_name: 'Whitson', date_of_birth: '2024-03-25', guardian_name: 'Parent Whitson', guardian_phone: '510-555-0121', status: 'enrolled', enrollment_date: '2025-03-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Sophia', last_name: 'Acosta', date_of_birth: '2024-04-25', guardian_name: 'Parent Acosta', guardian_phone: '510-555-0122', status: 'enrolled', enrollment_date: '2025-06-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Wilder', last_name: 'Enthoven', date_of_birth: '2024-02-25', guardian_name: 'Parent Enthoven', guardian_phone: '510-555-0123', status: 'enrolled', enrollment_date: '2025-02-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Eloise', last_name: 'Clayton', date_of_birth: '2024-06-25', guardian_name: 'Parent Clayton', guardian_phone: '510-555-0124', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Hannah', last_name: 'Hwu', date_of_birth: '2024-06-25', guardian_name: 'Parent Hwu', guardian_phone: '510-555-0125', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Harper', last_name: 'Torres', date_of_birth: '2024-01-25', guardian_name: 'Parent Torres', guardian_phone: '510-555-0126', status: 'enrolled', enrollment_date: '2025-03-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Amir', last_name: 'Johnson', date_of_birth: '2023-10-25', guardian_name: 'Parent Johnson', guardian_phone: '510-555-0127', status: 'enrolled', enrollment_date: '2024-11-04' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Austin', last_name: 'Driskill', date_of_birth: '2023-09-25', guardian_name: 'Parent Driskill', guardian_phone: '510-555-0128', status: 'enrolled', enrollment_date: '2024-11-04' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Desmond', last_name: 'Ontiveros', date_of_birth: '2023-09-25', guardian_name: 'Parent Ontiveros', guardian_phone: '510-555-0129', status: 'enrolled', enrollment_date: '2024-11-04' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Bodie', last_name: 'Gracey', date_of_birth: '2023-10-25', guardian_name: 'Parent Gracey', guardian_phone: '510-555-0130', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Katie', last_name: 'Lucas', date_of_birth: '2023-07-25', guardian_name: 'Parent Lucas', guardian_phone: '510-555-0131', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Naomi', last_name: 'Yiangou', date_of_birth: '2023-06-25', guardian_name: 'Parent Yiangou', guardian_phone: '510-555-0132', status: 'enrolled', enrollment_date: '2024-08-06' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Noel', last_name: 'Tockey', date_of_birth: '2023-07-25', guardian_name: 'Parent Tockey', guardian_phone: '510-555-0133', status: 'enrolled', enrollment_date: '2024-09-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Zoey', last_name: 'Lucas', date_of_birth: '2023-07-25', guardian_name: 'Parent Lucas2', guardian_phone: '510-555-0134', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Dillon', last_name: 'Salas', date_of_birth: '2022-09-25', guardian_name: 'Parent Salas2', guardian_phone: '510-555-0135', status: 'enrolled', enrollment_date: '2024-08-06' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Isaac', last_name: 'Morrison', date_of_birth: '2022-12-25', guardian_name: 'Parent Morrison', guardian_phone: '510-555-0136', status: 'enrolled', enrollment_date: '2024-08-08' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Oliver', last_name: 'Penfold', date_of_birth: '2022-12-25', guardian_name: 'Parent Penfold', guardian_phone: '510-555-0137', status: 'enrolled', enrollment_date: '2025-01-02' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Kayden', last_name: 'Cardana', date_of_birth: '2024-02-25', guardian_name: 'Parent Cardana', guardian_phone: '510-555-0138', status: 'enrolled', enrollment_date: '2025-09-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000003', first_name: 'Lydia', last_name: 'Lewis', date_of_birth: '2024-03-25', guardian_name: 'Parent Lewis', guardian_phone: '510-555-0139', status: 'enrolled', enrollment_date: '2025-08-01' },
      // Ponies (3yr) - 16 students
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Emerson', last_name: 'Tamir', date_of_birth: '2024-01-25', guardian_name: 'Parent Tamir', guardian_phone: '510-555-0140', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Ezekiel', last_name: 'Buffaloe', date_of_birth: '2023-06-25', guardian_name: 'Parent Buffaloe2', guardian_phone: '510-555-0141', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Zander', last_name: 'Noonan', date_of_birth: '2023-07-25', guardian_name: 'Parent Noonan', guardian_phone: '510-555-0142', status: 'enrolled', enrollment_date: '2025-09-19' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Nevan', last_name: 'Pardue', date_of_birth: '2023-06-25', guardian_name: 'Parent Pardue', guardian_phone: '510-555-0143', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Marco', last_name: 'Au', date_of_birth: '2023-04-25', guardian_name: 'Parent Au', guardian_phone: '510-555-0144', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Sally', last_name: 'Miller', date_of_birth: '2023-04-25', guardian_name: 'Parent Miller', guardian_phone: '510-555-0145', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Rory', last_name: 'Jacobs', date_of_birth: '2023-02-25', guardian_name: 'Parent Jacobs', guardian_phone: '510-555-0146', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Francis', last_name: 'Ksiazek', date_of_birth: '2023-01-25', guardian_name: 'Parent Ksiazek', guardian_phone: '510-555-0147', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Jack', last_name: 'Holyoake', date_of_birth: '2022-10-25', guardian_name: 'Parent Holyoake2', guardian_phone: '510-555-0148', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Benjamin', last_name: 'Yu', date_of_birth: '2022-11-25', guardian_name: 'Parent Yu', guardian_phone: '510-555-0149', status: 'enrolled', enrollment_date: '2025-05-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Wes', last_name: 'Gildersleeve', date_of_birth: '2022-07-25', guardian_name: 'Parent Gildersleeve', guardian_phone: '510-555-0150', status: 'enrolled', enrollment_date: '2025-05-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Kai', last_name: 'Pagones', date_of_birth: '2022-05-25', guardian_name: 'Parent Pagones', guardian_phone: '510-555-0151', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Jack', last_name: 'Riddell', date_of_birth: '2022-10-25', guardian_name: 'Parent Riddell', guardian_phone: '510-555-0152', status: 'enrolled', enrollment_date: '2025-04-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Nolan', last_name: 'Dent', date_of_birth: '2022-10-25', guardian_name: 'Parent Dent', guardian_phone: '510-555-0153', status: 'enrolled', enrollment_date: '2025-01-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Olivia', last_name: 'Gracey', date_of_birth: '2022-08-25', guardian_name: 'Parent Gracey2', guardian_phone: '510-555-0154', status: 'enrolled', enrollment_date: '2025-10-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000004', first_name: 'Ruby', last_name: 'Crosby', date_of_birth: '2022-06-25', guardian_name: 'Parent Crosby', guardian_phone: '510-555-0155', status: 'enrolled', enrollment_date: '2024-11-01' },
      // Soda Pop (4-5 yr) - 26 students
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Otis', last_name: 'Shelby', date_of_birth: '2022-05-25', guardian_name: 'Parent Shelby2', guardian_phone: '510-555-0156', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Raelyn', last_name: 'Luke', date_of_birth: '2022-06-25', guardian_name: 'Parent Luke', guardian_phone: '510-555-0157', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Rowan', last_name: 'Enthoven', date_of_birth: '2021-10-25', guardian_name: 'Parent Enthoven2', guardian_phone: '510-555-0158', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Lio', last_name: 'Gulassa', date_of_birth: '2022-02-25', guardian_name: 'Parent Gulassa', guardian_phone: '510-555-0159', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Yarrow', last_name: 'Ontiveros', date_of_birth: '2021-12-25', guardian_name: 'Parent Ontiveros2', guardian_phone: '510-555-0160', status: 'enrolled', enrollment_date: '2024-10-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Summer', last_name: 'Wong', date_of_birth: '2021-12-25', guardian_name: 'Parent Wong', guardian_phone: '510-555-0161', status: 'enrolled', enrollment_date: '2025-02-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Siren', last_name: 'Slaboski', date_of_birth: '2021-11-25', guardian_name: 'Parent Slaboski', guardian_phone: '510-555-0162', status: 'enrolled', enrollment_date: '2025-02-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Luca', last_name: 'Haro', date_of_birth: '2021-05-25', guardian_name: 'Parent Haro', guardian_phone: '510-555-0163', status: 'enrolled', enrollment_date: '2025-02-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Grace', last_name: 'Gilmore', date_of_birth: '2021-10-25', guardian_name: 'Parent Gilmore', guardian_phone: '510-555-0164', status: 'enrolled', enrollment_date: '2025-03-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Dawson', last_name: 'Christy', date_of_birth: '2021-11-25', guardian_name: 'Parent Christy', guardian_phone: '510-555-0165', status: 'enrolled', enrollment_date: '2024-10-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Eddie', last_name: 'Kim', date_of_birth: '2021-11-25', guardian_name: 'Parent Kim', guardian_phone: '510-555-0166', status: 'enrolled', enrollment_date: '2024-10-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Aashika', last_name: 'Yerramsetty', date_of_birth: '2021-12-25', guardian_name: 'Parent Yerramsetty', guardian_phone: '510-555-0167', status: 'enrolled', enrollment_date: '2024-10-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Jia', last_name: 'Devlin', date_of_birth: '2021-09-25', guardian_name: 'Parent Devlin', guardian_phone: '510-555-0168', status: 'enrolled', enrollment_date: '2025-12-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Erik', last_name: 'Davidson', date_of_birth: '2021-11-25', guardian_name: 'Parent Davidson', guardian_phone: '510-555-0169', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Oskar', last_name: 'Konwiak', date_of_birth: '2021-12-25', guardian_name: 'Parent Konwiak', guardian_phone: '510-555-0170', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Parker', last_name: 'Barnett', date_of_birth: '2021-10-25', guardian_name: 'Parent Barnett', guardian_phone: '510-555-0171', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Robert', last_name: 'Hall', date_of_birth: '2021-05-25', guardian_name: 'Parent Hall', guardian_phone: '510-555-0172', status: 'enrolled', enrollment_date: '2024-11-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Maverick', last_name: 'Sera', date_of_birth: '2021-04-25', guardian_name: 'Parent Sera', guardian_phone: '510-555-0173', status: 'enrolled', enrollment_date: '2024-10-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Theo', last_name: 'Tamir', date_of_birth: '2021-05-25', guardian_name: 'Parent Tamir2', guardian_phone: '510-555-0174', status: 'enrolled', enrollment_date: '2024-08-06' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Theodore', last_name: 'Bruun', date_of_birth: '2021-05-25', guardian_name: 'Parent Bruun', guardian_phone: '510-555-0175', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Logan', last_name: 'Price', date_of_birth: '2021-02-25', guardian_name: 'Parent Price', guardian_phone: '510-555-0176', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Theo', last_name: 'Kim', date_of_birth: '2020-12-25', guardian_name: 'Parent Kim2', guardian_phone: '510-555-0177', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'August', last_name: 'Conroy', date_of_birth: '2020-11-25', guardian_name: 'Parent Conroy2', guardian_phone: '510-555-0178', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Leo', last_name: 'Smith', date_of_birth: '2020-10-25', guardian_name: 'Parent Smith', guardian_phone: '510-555-0179', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '11111111-1111-1111-1111-111111111111', classroom_id: 'a1111111-0001-0001-0001-000000000005', first_name: 'Isla', last_name: 'Williams', date_of_birth: '2020-09-25', guardian_name: 'Parent Williams', guardian_phone: '510-555-0180', status: 'enrolled', enrollment_date: '2024-08-05' },
      // Little Seeds - Squirrels (1-2 yr) - 8 students
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000001', first_name: 'Zoe', last_name: 'Caniglia', date_of_birth: '2025-01-25', guardian_name: 'Parent Caniglia', guardian_phone: '510-555-0201', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000001', first_name: 'Quinn', last_name: 'Dito', date_of_birth: '2024-07-25', guardian_name: 'Parent Dito', guardian_phone: '510-555-0202', status: 'enrolled', enrollment_date: '2025-05-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000001', first_name: 'Nejla', last_name: 'Al-Schawaf', date_of_birth: '2024-07-25', guardian_name: 'Parent Al-Schawaf', guardian_phone: '510-555-0203', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000001', first_name: 'Bellamy', last_name: 'Rocke-Holmes', date_of_birth: '2024-07-25', guardian_name: 'Parent Rocke-Holmes', guardian_phone: '510-555-0204', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000001', first_name: 'Dawn', last_name: 'Beckegger', date_of_birth: '2024-08-25', guardian_name: 'Parent Beckegger', guardian_phone: '510-555-0205', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000001', first_name: 'Imogen', last_name: 'Cheng-Wright', date_of_birth: '2024-05-25', guardian_name: 'Parent Cheng-Wright', guardian_phone: '510-555-0206', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000001', first_name: 'Jack', last_name: 'Barker', date_of_birth: '2024-04-25', guardian_name: 'Parent Barker', guardian_phone: '510-555-0207', status: 'enrolled', enrollment_date: '2025-10-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000001', first_name: 'Inara', last_name: 'Edwards', date_of_birth: '2024-02-25', guardian_name: 'Parent Edwards', guardian_phone: '510-555-0208', status: 'enrolled', enrollment_date: '2025-04-16' },
      // Little Seeds - Bunnies (2yr) - 13 students
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'French Jr.', last_name: 'Clements', date_of_birth: '2024-02-25', guardian_name: 'Parent Clements', guardian_phone: '510-555-0209', status: 'enrolled', enrollment_date: '2025-04-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Lukas', last_name: 'Demakas', date_of_birth: '2024-01-25', guardian_name: 'Parent Demakas', guardian_phone: '510-555-0210', status: 'enrolled', enrollment_date: '2025-01-14' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Ivy', last_name: 'Sugay-Oda', date_of_birth: '2023-05-25', guardian_name: 'Parent Sugay-Oda', guardian_phone: '510-555-0211', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Koa', last_name: 'Wong', date_of_birth: '2023-05-25', guardian_name: 'Parent Wong', guardian_phone: '510-555-0212', status: 'enrolled', enrollment_date: '2025-01-07' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Orestis', last_name: 'Nigam', date_of_birth: '2023-05-25', guardian_name: 'Parent Nigam', guardian_phone: '510-555-0213', status: 'enrolled', enrollment_date: '2025-01-07' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Adeline', last_name: 'Stitt', date_of_birth: '2023-04-25', guardian_name: 'Parent Stitt', guardian_phone: '510-555-0214', status: 'enrolled', enrollment_date: '2025-01-07' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Sylvie', last_name: 'Schwarz', date_of_birth: '2023-06-25', guardian_name: 'Parent Schwarz', guardian_phone: '510-555-0215', status: 'enrolled', enrollment_date: '2025-01-07' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Howard', last_name: 'Cohen-Orren', date_of_birth: '2022-12-25', guardian_name: 'Parent Cohen-Orren', guardian_phone: '510-555-0216', status: 'enrolled', enrollment_date: '2025-01-07' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Sajid', last_name: 'Ben Hammed', date_of_birth: '2022-11-25', guardian_name: 'Parent Ben Hammed', guardian_phone: '510-555-0217', status: 'enrolled', enrollment_date: '2025-01-07' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Sofia', last_name: 'Winterrowd', date_of_birth: '2023-07-25', guardian_name: 'Parent Winterrowd', guardian_phone: '510-555-0218', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Lilian', last_name: 'Ho', date_of_birth: '2023-06-25', guardian_name: 'Parent Ho', guardian_phone: '510-555-0219', status: 'enrolled', enrollment_date: '2025-10-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Clementine', last_name: 'Yu', date_of_birth: '2023-04-25', guardian_name: 'Parent Yu', guardian_phone: '510-555-0220', status: 'enrolled', enrollment_date: '2025-10-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000002', first_name: 'Marina', last_name: 'Doty', date_of_birth: '2023-04-25', guardian_name: 'Parent Doty', guardian_phone: '510-555-0221', status: 'enrolled', enrollment_date: '2025-09-01' },
      // Little Seeds - Chipmunks (3yr) - 10 students
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000003', first_name: 'Charlotte', last_name: 'Basu', date_of_birth: '2023-03-25', guardian_name: 'Parent Basu', guardian_phone: '510-555-0222', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000003', first_name: 'Rex', last_name: 'Fong-Rivadeneira', date_of_birth: '2022-12-25', guardian_name: 'Parent Fong-Rivadeneira', guardian_phone: '510-555-0223', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000003', first_name: 'Aimee', last_name: 'Caniglia', date_of_birth: '2022-09-25', guardian_name: 'Parent Caniglia2', guardian_phone: '510-555-0224', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000003', first_name: 'Phoebe', last_name: 'Binder', date_of_birth: '2022-08-25', guardian_name: 'Parent Binder', guardian_phone: '510-555-0225', status: 'enrolled', enrollment_date: '2025-12-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000003', first_name: 'Owen', last_name: 'Yuzuriha', date_of_birth: '2022-05-25', guardian_name: 'Parent Yuzuriha', guardian_phone: '510-555-0226', status: 'enrolled', enrollment_date: '2025-12-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000003', first_name: 'Savannah', last_name: 'Jackson', date_of_birth: '2022-05-25', guardian_name: 'Parent Jackson', guardian_phone: '510-555-0227', status: 'enrolled', enrollment_date: '2025-12-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000003', first_name: 'Sam', last_name: 'Toldi-Vo', date_of_birth: '2022-05-25', guardian_name: 'Parent Toldi-Vo', guardian_phone: '510-555-0228', status: 'enrolled', enrollment_date: '2025-01-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000003', first_name: 'Leo', last_name: 'Sontag', date_of_birth: '2022-03-25', guardian_name: 'Parent Sontag', guardian_phone: '510-555-0229', status: 'enrolled', enrollment_date: '2025-01-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000003', first_name: 'Everly', last_name: 'Apavatjrut', date_of_birth: '2022-09-25', guardian_name: 'Parent Apavatjrut', guardian_phone: '510-555-0230', status: 'enrolled', enrollment_date: '2025-09-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000003', first_name: 'Arissa', last_name: 'Duey', date_of_birth: '2022-06-25', guardian_name: 'Parent Duey', guardian_phone: '510-555-0231', status: 'enrolled', enrollment_date: '2026-01-01' },
      // Little Seeds - Bears (4-5 yr) - 10 students
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000004', first_name: 'Cadence', last_name: 'Massara', date_of_birth: '2022-02-25', guardian_name: 'Parent Massara', guardian_phone: '510-555-0232', status: 'enrolled', enrollment_date: '2025-01-02' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000004', first_name: 'Zoey', last_name: 'Sychrava', date_of_birth: '2022-02-25', guardian_name: 'Parent Sychrava', guardian_phone: '510-555-0233', status: 'enrolled', enrollment_date: '2025-05-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000004', first_name: 'Hazel', last_name: 'Clark', date_of_birth: '2022-02-25', guardian_name: 'Parent Clark', guardian_phone: '510-555-0234', status: 'enrolled', enrollment_date: '2025-09-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000004', first_name: 'Miya', last_name: 'Pigue', date_of_birth: '2022-02-25', guardian_name: 'Parent Pigue', guardian_phone: '510-555-0235', status: 'enrolled', enrollment_date: '2024-10-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000004', first_name: 'Paige', last_name: 'Dito', date_of_birth: '2021-11-25', guardian_name: 'Parent Dito2', guardian_phone: '510-555-0236', status: 'enrolled', enrollment_date: '2024-09-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000004', first_name: 'Palmer', last_name: 'Cook-Herbert', date_of_birth: '2022-05-25', guardian_name: 'Parent Cook-Herbert', guardian_phone: '510-555-0237', status: 'enrolled', enrollment_date: '2025-09-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000004', first_name: 'Nathan', last_name: 'Ortega', date_of_birth: '2021-11-25', guardian_name: 'Parent Ortega', guardian_phone: '510-555-0238', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000004', first_name: 'Kiran', last_name: 'Thomas', date_of_birth: '2021-09-25', guardian_name: 'Parent Thomas', guardian_phone: '510-555-0239', status: 'enrolled', enrollment_date: '2024-09-01' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000004', first_name: 'Grayson', last_name: 'Bennett', date_of_birth: '2021-06-25', guardian_name: 'Parent Bennett', guardian_phone: '510-555-0240', status: 'enrolled', enrollment_date: '2023-06-16' },
      { school_id: '22222222-2222-2222-2222-222222222222', classroom_id: 'a2222222-0001-0001-0001-000000000004', first_name: 'Beckett', last_name: 'Casey', date_of_birth: '2021-07-25', guardian_name: 'Parent Casey', guardian_phone: '510-555-0241', status: 'enrolled', enrollment_date: '2025-01-01' },
      // Harbor Bay - Ladybugs (6 month-24 months) - 11 students
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Canon', last_name: 'Yung', date_of_birth: '2025-05-25', guardian_name: 'Parent Yung', guardian_phone: '510-555-0301', status: 'enrolled', enrollment_date: '2025-12-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Isabela', last_name: 'Cornejo', date_of_birth: '2025-05-25', guardian_name: 'Parent Cornejo', guardian_phone: '510-555-0302', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Hannah', last_name: 'Qayumi', date_of_birth: '2024-07-25', guardian_name: 'Parent Qayumi', guardian_phone: '510-555-0303', status: 'enrolled', enrollment_date: '2025-05-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Callan', last_name: 'Arnold', date_of_birth: '2023-12-25', guardian_name: 'Parent Arnold', guardian_phone: '510-555-0304', status: 'enrolled', enrollment_date: '2024-08-02' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Morgan', last_name: 'Richards', date_of_birth: '2023-12-25', guardian_name: 'Parent Richards', guardian_phone: '510-555-0305', status: 'enrolled', enrollment_date: '2024-10-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Walker', last_name: 'Kane', date_of_birth: '2023-12-25', guardian_name: 'Parent Kane', guardian_phone: '510-555-0306', status: 'enrolled', enrollment_date: '2024-09-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Jason', last_name: 'Chan', date_of_birth: '2024-10-25', guardian_name: 'Parent Chan', guardian_phone: '510-555-0307', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Hayes', last_name: 'Conroy', date_of_birth: '2024-08-25', guardian_name: 'Parent Conroy2', guardian_phone: '510-555-0308', status: 'enrolled', enrollment_date: '2025-09-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Chloe', last_name: 'Hu', date_of_birth: '2024-03-25', guardian_name: 'Parent Hu', guardian_phone: '510-555-0309', status: 'enrolled', enrollment_date: '2025-04-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Hannah', last_name: 'Chia', date_of_birth: '2024-02-25', guardian_name: 'Parent Chia', guardian_phone: '510-555-0310', status: 'enrolled', enrollment_date: '2025-04-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000001', first_name: 'Felix', last_name: 'Cziva', date_of_birth: '2024-04-25', guardian_name: 'Parent Cziva2', guardian_phone: '510-555-0311', status: 'enrolled', enrollment_date: '2025-08-01' },
      // Harbor Bay - Grasshopper (2 yr) - 16 students
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Judah', last_name: 'Wetterholm', date_of_birth: '2024-05-25', guardian_name: 'Parent Wetterholm2', guardian_phone: '510-555-0312', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Kayden', last_name: 'Cardana', date_of_birth: '2024-02-25', guardian_name: 'Parent Cardana2', guardian_phone: '510-555-0313', status: 'enrolled', enrollment_date: '2025-09-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Lydia', last_name: 'Lewis', date_of_birth: '2024-03-25', guardian_name: 'Parent Lewis2', guardian_phone: '510-555-0314', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Ryan', last_name: 'Zhang', date_of_birth: '2023-06-25', guardian_name: 'Parent Zhang', guardian_phone: '510-555-0315', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Shay', last_name: 'Giridharan', date_of_birth: '2023-09-25', guardian_name: 'Parent Giridharan', guardian_phone: '510-555-0316', status: 'enrolled', enrollment_date: '2024-09-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Noah', last_name: 'Rubin', date_of_birth: '2023-11-25', guardian_name: 'Parent Rubin', guardian_phone: '510-555-0317', status: 'enrolled', enrollment_date: '2025-11-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Hazel', last_name: 'Chou', date_of_birth: '2023-06-25', guardian_name: 'Parent Chou', guardian_phone: '510-555-0318', status: 'enrolled', enrollment_date: '2025-09-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Kashan', last_name: 'McCullough', date_of_birth: '2023-03-25', guardian_name: 'Parent McCullough', guardian_phone: '510-555-0319', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Lennon', last_name: 'Golden', date_of_birth: '2023-03-25', guardian_name: 'Parent Golden', guardian_phone: '510-555-0320', status: 'enrolled', enrollment_date: '2025-10-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Martin', last_name: 'Sinka', date_of_birth: '2023-03-25', guardian_name: 'Parent Sinka', guardian_phone: '510-555-0321', status: 'enrolled', enrollment_date: '2025-07-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Ryan', last_name: 'Kim', date_of_birth: '2023-03-25', guardian_name: 'Parent Kim2', guardian_phone: '510-555-0322', status: 'enrolled', enrollment_date: '2025-10-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Oliver', last_name: 'Myers', date_of_birth: '2023-04-25', guardian_name: 'Parent Myers', guardian_phone: '510-555-0323', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Jason', last_name: 'Karaman', date_of_birth: '2022-10-25', guardian_name: 'Parent Karaman', guardian_phone: '510-555-0324', status: 'enrolled', enrollment_date: '2025-10-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Flora', last_name: 'LaCour', date_of_birth: '2022-07-25', guardian_name: 'Parent LaCour', guardian_phone: '510-555-0325', status: 'enrolled', enrollment_date: '2025-09-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Amelia', last_name: 'Ying', date_of_birth: '2022-07-25', guardian_name: 'Parent Ying', guardian_phone: '510-555-0326', status: 'enrolled', enrollment_date: '2026-01-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000002', first_name: 'Nadine', last_name: 'Park', date_of_birth: '2022-08-25', guardian_name: 'Parent Park', guardian_phone: '510-555-0327', status: 'enrolled', enrollment_date: '2025-08-01' },
      // Harbor Bay - Butterflies (3 yr) - 12 students
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Matthew', last_name: 'Yang', date_of_birth: '2022-08-25', guardian_name: 'Parent Yang', guardian_phone: '510-555-0328', status: 'enrolled', enrollment_date: '2025-04-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Jack', last_name: 'Riddell', date_of_birth: '2022-10-25', guardian_name: 'Parent Riddell2', guardian_phone: '510-555-0329', status: 'enrolled', enrollment_date: '2025-04-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Nolan', last_name: 'Dent', date_of_birth: '2022-10-25', guardian_name: 'Parent Dent2', guardian_phone: '510-555-0330', status: 'enrolled', enrollment_date: '2025-01-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Malakai', last_name: 'Yung', date_of_birth: '2022-04-25', guardian_name: 'Parent Yung2', guardian_phone: '510-555-0331', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Jack', last_name: 'Schnur', date_of_birth: '2021-10-25', guardian_name: 'Parent Schnur', guardian_phone: '510-555-0332', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Nicolas', last_name: 'Wang', date_of_birth: '2022-02-25', guardian_name: 'Parent Wang', guardian_phone: '510-555-0333', status: 'enrolled', enrollment_date: '2024-11-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Sophia', last_name: 'Sreng', date_of_birth: '2022-04-25', guardian_name: 'Parent Sreng', guardian_phone: '510-555-0334', status: 'enrolled', enrollment_date: '2024-11-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Roman', last_name: 'Tan', date_of_birth: '2022-04-25', guardian_name: 'Parent Tan', guardian_phone: '510-555-0335', status: 'enrolled', enrollment_date: '2025-01-02' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Aary', last_name: 'Anand', date_of_birth: '2022-05-25', guardian_name: 'Parent Anand', guardian_phone: '510-555-0336', status: 'enrolled', enrollment_date: '2025-01-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Abigail', last_name: 'Chia', date_of_birth: '2022-05-25', guardian_name: 'Parent Chia2', guardian_phone: '510-555-0337', status: 'enrolled', enrollment_date: '2025-01-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Emmett', last_name: 'Mejia', date_of_birth: '2021-12-25', guardian_name: 'Parent Mejia', guardian_phone: '510-555-0338', status: 'enrolled', enrollment_date: '2025-01-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000003', first_name: 'Brooks', last_name: 'Arnold', date_of_birth: '2021-08-25', guardian_name: 'Parent Arnold2', guardian_phone: '510-555-0339', status: 'enrolled', enrollment_date: '2025-01-01' },
      // Harbor Bay - Dragonflies (4-5 yr) - 10 students
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000004', first_name: 'Katerina', last_name: 'Malkova', date_of_birth: '2021-09-25', guardian_name: 'Parent Malkova', guardian_phone: '510-555-0340', status: 'enrolled', enrollment_date: '2025-01-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000004', first_name: 'Annabelle', last_name: 'Chern', date_of_birth: '2021-08-25', guardian_name: 'Parent Chern', guardian_phone: '510-555-0341', status: 'enrolled', enrollment_date: '2024-08-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000004', first_name: 'Lane', last_name: 'Conroy', date_of_birth: '2021-07-25', guardian_name: 'Parent Conroy3', guardian_phone: '510-555-0342', status: 'enrolled', enrollment_date: '2024-08-02' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000004', first_name: 'Cora', last_name: 'Kang', date_of_birth: '2021-06-25', guardian_name: 'Parent Kang2', guardian_phone: '510-555-0343', status: 'enrolled', enrollment_date: '2024-08-05' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000004', first_name: 'Ellis', last_name: 'Roberts', date_of_birth: '2021-12-25', guardian_name: 'Parent Roberts', guardian_phone: '510-555-0344', status: 'enrolled', enrollment_date: '2025-08-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000004', first_name: 'Marisol', last_name: 'Cornejo', date_of_birth: '2021-12-25', guardian_name: 'Parent Cornejo2', guardian_phone: '510-555-0345', status: 'enrolled', enrollment_date: '2025-09-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000004', first_name: 'Kaylee', last_name: 'Ceaser', date_of_birth: '2022-01-25', guardian_name: 'Parent Ceaser', guardian_phone: '510-555-0346', status: 'enrolled', enrollment_date: '2025-12-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000004', first_name: 'Zoe', last_name: 'Kim', date_of_birth: '2021-05-25', guardian_name: 'Parent Kim3', guardian_phone: '510-555-0347', status: 'enrolled', enrollment_date: '2024-08-02' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000004', first_name: 'Sofia', last_name: 'Schultz', date_of_birth: '2021-10-25', guardian_name: 'Parent Schultz', guardian_phone: '510-555-0348', status: 'enrolled', enrollment_date: '2025-12-01' },
      { school_id: '33333333-3333-3333-3333-333333333333', classroom_id: 'a3333333-0001-0001-0001-000000000004', first_name: 'Kira', last_name: 'Scott', date_of_birth: '2021-10-25', guardian_name: 'Parent Scott', guardian_phone: '510-555-0349', status: 'enrolled', enrollment_date: '2025-08-01' },
    ]
    const { error: studentsError } = await supabaseAdmin.from('students').insert(students)
    if (studentsError) throw new Error(`Students insert failed: ${studentsError.message}`)

    // Count what we inserted
    const { count: schoolCount } = await supabaseAdmin.from('schools').select('*', { count: 'exact', head: true })
    const { count: classroomCount } = await supabaseAdmin.from('classrooms').select('*', { count: 'exact', head: true })
    const { count: teacherCount } = await supabaseAdmin.from('teachers').select('*', { count: 'exact', head: true })
    const { count: studentCount } = await supabaseAdmin.from('students').select('*', { count: 'exact', head: true })

    const warnings: string[] = []
    if (!schoolSettingsExists) {
      warnings.push('school_settings table does not exist - run migration 20260125000000_nap_times_and_settings.sql in Supabase SQL Editor')
    }

    return NextResponse.json({
      success: true,
      message: 'Test environment reset to baseline',
      results: {
        schools: schoolCount,
        classrooms: classroomCount,
        teachers: teacherCount,
        students: studentCount,
        settings: settingsCount
      },
      warnings: warnings.length > 0 ? warnings : undefined
    })

  } catch (error) {
    console.error('Reset failed:', error)
    return NextResponse.json(
      { error: error instanceof Error ? error.message : 'Reset failed' },
      { status: 500 }
    )
  }
}
